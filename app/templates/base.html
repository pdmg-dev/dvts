<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/icons/bootstrap-icons.min.css') }}" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='/css/fonts/GoogleSansFlex-VariableFont_GRAD,ROND,opsz,slnt,wdth,wght.ttf') }}"
    />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/navbar.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/sidebar.css') }}" />
    {% if request.blueprint == 'voucher' %}
      <link rel="stylesheet" href="{{ url_for('static', filename='css/vouchers.css') }}" />
      <link rel="stylesheet" href="{{ url_for('static', filename='css/new_voucher.css') }}" />
    {% endif %}
    <link rel="stylesheet" href="{{ url_for('static', filename='tempus/tempus-dominus.min.css') }}" />

    <style>
      .tempus-dominus-widget *:focus,
      .tempus-dominus-widget *:focus-visible,
      .tempus-dominus-widget *:focus-within,
      .tempus-dominus-widget .btn:focus,
      .tempus-dominus-widget .btn:focus-visible,
      .tempus-dominus-widget .date-container *:focus {
        outline: none !important;
        box-shadow: none !important;
      }

      .tempus-dominus-widget {
        border-radius: 4px;
        box-shadow:
          0 1px 3px rgba(0, 0, 0, 0.2),
          0 1px 3px rgba(0, 0, 0, 0.1),
          0 0 3px rgba(0, 0, 0, 0.05);
        list-style: none;
        font-size: 12px !important;
        padding: 8px !important;
        width: 19rem;
      }

      .tempus-dominus-widget i {
        -webkit-text-stroke: 0.5px !important;
      }

      .tempus-dominus-widget .date-container-days {
        grid-auto-rows: 34px !important;
      }

      .tempus-dominus-widget .date-container-days .day {
        height: 32px !important;
        width: 32px !important;
        border-radius: 50rem !important;
        padding: 0 !important;
        margin: 2px !important;
      }

      .tempus-dominus-widget .date-container-days .dow {
        line-height: 2 !important;
      }

      .tempus-dominus-widget .calendar-header {
        font-weight: 500 !important;
      }

      .tempus-dominus-widget .toolbar div {
        padding: 10px 6px !important;
      }

      .tempus-dominus-widget .toolbar div {
        height: 40px !important;
        width: 80px !important;
        font-size: 14px !important;
        border-radius: 50rem !important;
      }

      .tempus-dominus-widget div.next,
      .tempus-dominus-widget div.previous {
        border-radius: 50rem !important;
        font-size: 14px !important;
        padding-block: 4px !important;
      }

      .tempus-dominus-widget div.picker-switch {
        font-size: 13px !important;
        padding-block: 4px !important;
      }

      .tempus-dominus-widget div.next:hover,
      .tempus-dominus-widget div.previous:hover {
        background-color: var(--bs-light-border-subtle) !important;
        border-color: var(--bs-light-border-subtle) !important;
      }

      .tempus-dominus-widget .toolbar {
        height: 40px !important;
      }

      .tempus-dominus-widget .date-container-days .cw {
        align-items: center;
        cursor: default;
        display: flex;
        font-size: 0.8em;
        height: 90%;
        justify-content: center;
        line-height: 20px;
        width: 90%;
      }
    </style>
    {% block style %}
    {% endblock %}
  </head>
  <body>
    {% block navbar %}
      {% include 'navbar.html' %}
    {% endblock %}
    {% block sidebar %}
      {% include 'sidebar.html' %}
    {% endblock %}

    {% block main %}
      <main class="d-flex position-absolute me-3 mb-3 overflow-hidden">
        {% block content %}
          {% if show_card %}
            <div id="floatingCardContainer">{% include 'fragments/form_card.html' %}</div>
          {% else %}
            <div id="floatingCardContainer"></div>
          {% endif %}
        {% endblock %}
      </main>
    {% endblock %}

    <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js')}}"></script>
    <script src="{{ url_for('static', filename='js/popper.min.js')}}"></script>
    <script src="{{ url_for('static', filename='js/htmx.min.js')}}"></script>
    <script src="{{ url_for('static', filename='js/navbar.js')}}"></script>
    <script src="{{ url_for('static', filename='js/sidebar.js')}}"></script>
    {% if request.blueprint == 'voucher' %}
      <script src="{{ url_for('static', filename='js/new_voucher.js') }}"></script>
      <script src="{{ url_for('static', filename='js/vouchers.js') }}"></script>
    {% endif %}
    <script src="{{ url_for('static', filename='tempus/luxon.min.js') }}"></script>
    <script src="{{ url_for('static', filename='tempus/tempus-dominus.min.js') }}"></script>

    <script>
      document.body.addEventListener("postSuccess", () => {
        const modalEl = document.getElementById("adminModal");
        const modal = bootstrap.Modal.getInstance(modalEl);

        if (modal) {
          // Hide modal (animation will run)
          modal.hide();
        }
      });
    </script>
    <script>
      const modalEl = document.getElementById("adminModal");

      modalEl.addEventListener("hide.bs.modal", () => {
        modalEl.classList.add("fade-out");
      });

      modalEl.addEventListener("hidden.bs.modal", () => {
        modalEl.classList.remove("fade-out");
      });
    </script>
    <script>
      var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
      var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
      });
    </script>
    {% block script %}
    {% endblock %}
  </body>
</html>
